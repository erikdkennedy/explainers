<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="icon" href="/assets/img/favicon.svg" type="image/svg+xml">
	<title>{{ title }}</title>
	{%- assign meta_image = img_subdir | meta_image_path -%}
	{%- if meta_image -%}
	<meta property="og:image" content="{{ meta_image }}">
	<meta name="twitter:image" content="{{ meta_image }}">
	{%- endif -%}
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link
		href="https://fonts.googleapis.com/css2?family=Figtree:ital,wght@0,300..900;1,300..900&family=Newsreader:ital,opsz,wght@0,6..72,200..800;1,6..72,200..800&display=swap"
		rel="stylesheet">
	{%- if css -%}
	<link rel="stylesheet" href="/assets/css/{{ css }}.css">
	{%- else -%}
	<link rel="stylesheet" href="/assets/css/home.css">
	{%- endif -%}
</head>

<body>
	{% include site-top-nav.md %}
	{%- assign has_header_media = header_img or header_video -%}
	<header class="layout-width post-header{% if has_header_media %} has-header-media{% endif %}">
		{%- if has_header_media -%}
		<div class="header__media"
			{%- if header_img -%}
				style="background-image: url('/assets/img/{{ img_subdir }}/{{ header_img }}');"
			{%- endif -%}
			aria-hidden="true">
			{%- if header_video -%}
			<video class="header__video"
					autoplay
					muted
					loop
					playsinline
					preload="metadata"
					{%- if header_img -%}
					poster="/assets/img/{{ img_subdir }}/{{ header_img }}"
					{%- endif -%}>
				<source src="/assets/img/{{ img_subdir }}/{{ header_video }}">
			</video>
			{%- endif -%}
			{%- if header_overlay -%}
			<div class="header__overlay" style="background: {{ header_overlay }};"></div>
			{%- endif -%}
		</div>
		{%- endif -%}
		<div class="header__text content-width">
			<h1 class="post-title">{{ title }}</h1>
			<h2 class="post-subtitle">{{ subtitle }}</h2>
		</div>
	</header>
	{%- if nutshell -%}
	<div class="nutshell content-width">{{ nutshell }}</div>
	<hr class="full-width" />
	{%- endif -%}
	<article>
		{%- if toc -%}{% include {{ toc }} %}{%- endif -%}

		<div class="post-body">
			{{ content }}
		</div>

	</article>
	<footer class="post-footer layout-width">
		<div class="footer-content">
			<a href="/" class="logo">explainers <br> <em class="logo-secondary">.blog</em></a>
			<p>For fans of intuitive explanations:</p>
			<script async data-uid="10309cbc66" src="https://erik-kennedy.kit.com/10309cbc66/index.js"></script>
		</div>
		{% include footer-bg.html %}
	</footer>
	<div class="copyright">
		<p class="mottoes">You don’t understand it until you can predict it. No Can-kicking. No Jargon.</p>
		<p class="copyright-text">© {% year %} Erik Kennedy</p>
	</div>

	{%- if js -%}
	{% assign js_list = js | join: ' ' | split: ' ' %}
	{%- for name in js_list -%}
	<script defer src="/assets/js/{{ name }}.js"></script>
	{%- endfor -%}
	{%- endif -%}
</body>

</html>


